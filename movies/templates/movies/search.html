{% extends "movies/base.html" %}

{% block title %}Search Results for "{{ query }}"{% endblock %}

{% block content %}

<h1 class="text-white mb-4">
    <i class="fas fa-search me-2 text-danger"></i>
    Search Results for: <span class="fw-light text-warning">"{{ query }}"</span>
</h1>

{% if results %}
    <p class="text-muted">{{ results.count }} movies found.</p>
    
    <div class="row row-cols-2 row-cols-md-4 row-cols-lg-5 g-4">
        {% for movie in results %}
        <div class="col">
            <div class="card h-100 shadow-lg">
                <img src="{{ movie.poster_url|default:'{% static "images/placeholder.jpg" %}' }}" 
                     class="card-img-top movie-poster" 
                     alt="{{ movie.title }} Poster"> 
                <div class="card-body">
                    <h6 class="card-title text-white fw-bold text-truncate">{{ movie.title }}</h6>
                    <p class="card-text small text-muted mb-2">
                        <i class="fas fa-star text-warning me-1"></i> {{ movie.initial_rating|default:"N/A" }} 
                        | {{ movie.year|default:"N/A" }}
                    </p>
                    <a href="{% url 'movie_detail' movie.pk %}" class="btn btn-sm btn-danger w-100">View Details</a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
{% else %}
    <div class="alert alert-dark text-white-50 mt-5 border-secondary" role="alert">
        <h4 class="alert-heading"><i class="fas fa-exclamation-triangle me-2"></i>No Results Found</h4>
        <p>Sorry, we couldn't find any movies matching the query **"{{ query }}"**. Try searching for a different title, actor, or genre.</p>
    </div>
{% endif %}

{% endblock %}
